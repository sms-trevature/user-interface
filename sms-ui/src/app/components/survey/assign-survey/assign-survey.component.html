<app-navbar> </app-navbar>



<table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">Survey Id</th>
            <th scope="col">Title</th>
            <th scope="col">Description</th>
            <th scope="col">Has Template</th>
            <th scope="col">Date Created</th>
            <th scope="col">Date Closed</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="row">1</th>
            <td>{{temp.surveyId}}</td>
            <td>{{temp.title}}</td>
            <td>{{temp.description}}</td>
            <td>
                <p *ngIf="!temp.template; else elseBlock1">No Template</p>
                <ng-template #elseBlock1><button (click)='checkTemplate(temp.surveyId)'>Check Template</button></ng-template>
            </td>
            <td>{{temp.dateCreated | showTimestamp}}</td>
            <td>
                <p *ngIf="temp.closingDate; else elseBlock2">{{temp.listOfSurvey | showTimestamp}}</p>
                <ng-template #elseBlock2><button (click)='closeSurvey(i)'>Close Now</button></ng-template>
            </td>
        </tr>
        <tr>
            <th scope="row">2</th>
            <td>{{temp.surveyId}}</td>
            <td>{{temp.title}}</td>
            <td>{{temp.description}}</td>
            <td>
                <p *ngIf="!temp.template; else elseBlock1">No Template</p>
                <ng-template #elseBlock1><button (click)='checkTemplate(temp.surveyId)'>Check Template</button></ng-template>
            </td>
            <td>{{temp.dateCreated | showTimestamp}}</td>
            <td>
                <p *ngIf="temp.closingDate; else elseBlock2">{{temp.listOfSurvey | showTimestamp}}</p>
                <ng-template #elseBlock2><button (click)='closeSurvey(i)'>Close Now</button></ng-template>
            </td>
        </tr>
        <tr>
            <th scope="row">3</th>
            <td>{{temp.surveyId}}</td>
            <td>{{temp.title}}</td>
            <td>{{temp.description}}</td>
            <td>
                <p *ngIf="!temp.template; else elseBlock1">No Template</p>
                <ng-template #elseBlock1><button (click)='checkTemplate(temp.surveyId)'>Check Template</button></ng-template>
            </td>
            <td>{{temp.dateCreated | showTimestamp}}</td>
            <td>
                <p *ngIf="temp.closingDate; else elseBlock2">{{temp.listOfSurvey | showTimestamp}}</p>
                <ng-template #elseBlock2><button (click)='closeSurvey(i)'>Close Now</button></ng-template>
            </td>
        </tr>
    </tbody>
</table>

<div>
    <ul *ngIf='curTemplate'>
        <li *ngFor='let temp of curTemplate; index as i;'>
            <p>{{"Q"+(i+1)+": "+temp.questionId.question}}</p><br>
            <p *ngFor='let ans of curTempAnswers[i]'>{{ans?.answer+" "}}</p>
        </li>

    </ul>
</div>